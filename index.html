<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unspoken ‚Äî What's the secret you'll take to your grave?</title>
    <meta name="description" content="Share anonymously. Connect safely. No names, no traces, no judgment.">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Unspoken ‚Äî Anonymous Secrets">
    <meta property="og:description" content="No names. No faces. Just the truth you've been holding back.">
    <meta property="og:type" content="website">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@700&family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        :root {
            --bg: #08090f;
            --surface: #111425;
            --text: #edf1ff;
            --muted: #a2add6;
            --primary: #6C63FF;
            --secondary: #3D5AFE;
            --accent: #B388FF;
            --border: rgba(155, 145, 255, 0.26);
            --gradient: linear-gradient(130deg, #6C63FF, #3D5AFE);
            --spacing: 1.14;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* Animated gradient background */
        .gradient-bg {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            background: radial-gradient(ellipse at 20% 30%, rgba(108, 99, 255, 0.15) 0%, transparent 50%),
                        radial-gradient(ellipse at 80% 70%, rgba(61, 90, 254, 0.12) 0%, transparent 50%),
                        radial-gradient(ellipse at 50% 50%, rgba(179, 136, 255, 0.08) 0%, transparent 50%);
            animation: gradientShift 20s ease infinite;
        }
        
        @keyframes gradientShift {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(10px, -10px) scale(1.05); }
            66% { transform: translate(-10px, 10px) scale(0.95); }
        }
        
        /* Floating particles */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }
        
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: var(--primary);
            border-radius: 50%;
            opacity: 0.1;
            animation: float 15s infinite ease-in-out;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0) translateX(0); }
            50% { transform: translateY(-100px) translateX(50px); }
        }
        
        /* Navigation Bar */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 999;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            background: rgba(8, 9, 15, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
        }
        
        .logo {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .signin-btn {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
            padding: 0.5rem 1.5rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .signin-btn:hover {
            border-color: var(--primary);
            background: rgba(108, 99, 255, 0.1);
        }
        
        /* Hero section */
        .hero {
            position: relative;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            overflow: hidden;
            margin-top: 80px;
        }
        
        .hero-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        
        .hero-fragments {
            position: absolute;
            inset: 0;
            pointer-events: none;
            overflow: hidden;
            z-index: 0;
            /* Dual-axis mask to prevent text from hard-clipping at edges */
            mask-image: 
                linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%),
                linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%),
                radial-gradient(ellipse at center, black 40%, transparent 80%);
            -webkit-mask-image: 
                linear-gradient(to right, transparent 0%, black 5%, black 95%, transparent 100%),
                linear-gradient(to bottom, transparent 0%, black 5%, black 95%, transparent 100%),
                radial-gradient(ellipse at center, black 40%, transparent 80%);
            mask-composite: intersect;
            -webkit-mask-composite: source-in;
        }
        
        .fragment {
            position: absolute;
            font-size: 14px;
            color: var(--primary);
            white-space: nowrap;
            opacity: 0.07;
            animation: fragmentFloat 20s infinite ease-in-out;
            max-width: 90%;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        
        @keyframes fragmentFloat {
            0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0.06; }
            50% { transform: translateY(-50px) translateX(30px) rotate(5deg); opacity: 0.08; }
        }
        
        .hero-content {
            position: relative;
            z-index: 10;
        }
        
        .hero h1 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 700;
            margin-bottom: 1rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInUp 1s ease;
        }
        
        .hero p {
            font-size: clamp(1rem, 2vw, 1.25rem);
            color: var(--muted);
            max-width: 600px;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.2s both;
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .cta-button {
            background: var(--gradient);
            color: white;
            border: 2px solid transparent;
            padding: 1.25rem 3rem;
            font-size: 1.25rem;
            font-weight: 600;
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            animation: fadeInUp 1s ease 0.4s both;
            box-shadow: 0 0 20px rgba(108, 99, 255, 0.4), 0 0 40px rgba(108, 99, 255, 0.2);
            position: relative;
        }
        
        .cta-button::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: var(--gradient);
            border-radius: 16px;
            opacity: 0.5;
            filter: blur(10px);
            z-index: -1;
            animation: ctaPulse 2s ease-in-out infinite;
        }
        
        .cta-button:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.6), 0 0 60px rgba(108, 99, 255, 0.3);
        }
        
        .cta-button:hover::before {
            animation: ctaPulse 1s ease-in-out infinite;
        }
        
        @keyframes ctaPulse {
            0%, 100% { 
                opacity: 0.5;
                transform: scale(1);
            }
            50% { 
                opacity: 0.8;
                transform: scale(1.05);
            }
        }
        
        .cta-microcopy {
            margin-top: 0.75rem;
            font-size: 0.85rem;
            color: var(--muted);
            opacity: 0.8;
            animation: fadeInUp 1s ease 0.5s both;
        }
        
        .stats {
            margin-top: 4rem;
            font-size: 0.9rem;
            color: var(--muted);
            animation: fadeInUp 1s ease 0.6s both;
            position: relative;
            z-index: 20;
        }
        
        .stats-number {
            color: var(--primary);
            font-weight: 600;
        }
        
        .scroll-indicator {
            position: absolute;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            color: var(--muted);
            font-size: 2rem;
            animation: bounce 2s infinite;
            opacity: 0.6;
            z-index: 10;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }
        
        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        
        /* Top 10 List */
        .top-10-section {
            margin-bottom: 4rem;
        }
        
        .top-10-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .top-10-header h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
            background: linear-gradient(130deg, #FFD700, #FFA500);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .top-10-toggle {
            background: var(--gradient);
            border: none;
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 14px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 0 20px rgba(108, 99, 255, 0.3);
        }
        
        .top-10-toggle:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.5);
        }
        
        .top-10-list {
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Minimized state - horizontal top 5 */
        .top-10-list.minimized {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            justify-content: center;
            max-width: 100%;
        }
        
        .top-10-list.minimized .top-item:nth-child(n+6) {
            display: none;
        }
        
        /* Make #1 card stand out more in minimized mode */
        .top-10-list.minimized .top-item:nth-child(1) {
            grid-column: span 1;
            min-height: 280px;
            border: 2px solid;
            border-image: linear-gradient(135deg, #FFD700, #FFA500) 1;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.4), 0 0 50px rgba(255, 215, 0, 0.2);
        }
        
        /* Silver tint for #2 */
        .top-10-list.minimized .top-item:nth-child(2) {
            background: linear-gradient(135deg, var(--surface) 0%, rgba(192, 192, 192, 0.08) 100%);
            border: 1.5px solid rgba(192, 192, 192, 0.4);
            box-shadow: 0 0 15px rgba(192, 192, 192, 0.3);
        }
        
        /* Bronze tint for #3 */
        .top-10-list.minimized .top-item:nth-child(3) {
            background: linear-gradient(135deg, var(--surface) 0%, rgba(205, 127, 50, 0.08) 100%);
            border: 1.5px solid rgba(205, 127, 50, 0.4);
            box-shadow: 0 0 15px rgba(205, 127, 50, 0.3);
        }
        
        /* #4 and #5 - smaller and more muted */
        .top-10-list.minimized .top-item:nth-child(4),
        .top-10-list.minimized .top-item:nth-child(5) {
            padding: 1.25rem;
            border-color: rgba(155, 145, 255, 0.15);
        }
        
        .top-10-list.minimized .top-item {
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            flex: 0 1 380px;
            min-height: 220px;
        }
        
        .top-10-list.minimized .rank-badge {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .top-10-list.minimized .secret-preview {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            flex: 1;
        }
        
        .top-10-list.minimized .top-item-stats {
            margin-top: 1rem;
        }
        
        .top-10-list.minimized .expand-btn {
            display: none;
        }
        
        /* Normal state - vertical list top 10 */
        .top-10-list.normal {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .top-10-list.normal .secret-preview {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
        
        /* Make #1 card stand out more in normal mode */
        .top-10-list.normal .top-item:nth-child(1) {
            padding: 2rem;
            border: 2px solid;
            border-image: linear-gradient(135deg, #FFD700, #FFA500) 1;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.5), 0 0 60px rgba(255, 215, 0, 0.25);
        }
        
        .top-10-list.normal .top-item:nth-child(1) .rank-badge {
            font-size: 3.5rem;
        }
        
        /* Silver tint for #2 in normal mode */
        .top-10-list.normal .top-item:nth-child(2) {
            background: linear-gradient(135deg, var(--surface) 0%, rgba(192, 192, 192, 0.1) 100%);
            border: 1.5px solid rgba(192, 192, 192, 0.4);
            box-shadow: 0 0 15px rgba(192, 192, 192, 0.3);
        }
        
        /* Bronze tint for #3 in normal mode */
        .top-10-list.normal .top-item:nth-child(3) {
            background: linear-gradient(135deg, var(--surface) 0%, rgba(205, 127, 50, 0.1) 100%);
            border: 1.5px solid rgba(205, 127, 50, 0.4);
            box-shadow: 0 0 15px rgba(205, 127, 50, 0.3);
        }
        
        /* #4 and #5 in normal mode - smaller and more muted */
        .top-10-list.normal .top-item:nth-child(4),
        .top-10-list.normal .top-item:nth-child(5) {
            padding: 1.25rem;
            border-color: rgba(155, 145, 255, 0.15);
        }
        
        .top-10-list.normal .expand-btn {
            display: inline-block;
        }
        
        /* Expanded state - full viewport takeover */
        .top-10-list.expanded {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 1000;
            background: var(--bg);
            overflow-y: auto;
            padding: 2rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .top-10-list.expanded .secret-preview {
            -webkit-line-clamp: unset;
        }
        
        .top-10-list.expanded .top-item {
            max-width: 800px;
            margin: 0 auto;
            width: 100%;
        }
        
        .back-to-feed {
            position: sticky;
            top: 1rem;
            z-index: 1001;
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 1rem;
            align-self: flex-start;
            box-shadow: 0 4px 20px rgba(108, 99, 255, 0.3);
        }
        
        .back-to-feed:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(108, 99, 255, 0.5);
        }
        
        .top-item {
            background: var(--surface);
            border: 1.5px solid var(--border);
            border-radius: 20px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .top-item:hover {
            transform: translateY(-2px);
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.2);
        }
        
        .top-item-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .rank-badge {
            font-size: 2.5rem;
            font-weight: 700;
            line-height: 1;
            min-width: 60px;
            text-align: center;
        }
        
        .rank-badge.rank-1 { 
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 10px rgba(255, 215, 0, 0.5));
        }
        
        .rank-badge.rank-2 { 
            background: linear-gradient(135deg, #C0C0C0 0%, #808080 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 8px rgba(192, 192, 192, 0.4));
        }
        
        .rank-badge.rank-3 { 
            background: linear-gradient(135deg, #CD7F32 0%, #8B4513 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 0 8px rgba(205, 127, 50, 0.4));
        }
        
        .rank-badge.rank-other {
            color: var(--primary);
        }
        
        .secret-preview {
            color: var(--text);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .top-item-stats {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            color: var(--muted);
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(155, 145, 255, 0.15);
        }
        
        .stat {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            position: relative;
        }
        
        .stat-label {
            font-size: 0.7rem;
            opacity: 0.7;
            margin-left: 0.2rem;
        }
        
        .top-item .username {
            font-size: 0.85rem;
            color: var(--muted);
            margin-bottom: 0.75rem;
            font-weight: 500;
        }
        
        .topic-tag {
            display: inline-block;
            background: rgba(108, 99, 255, 0.15);
            color: var(--primary);
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            margin-top: 0.5rem;
        }
        
        .expand-btn {
            color: var(--primary);
            font-size: 0.85rem;
            margin-top: 0.5rem;
            cursor: pointer;
        }
        
        /* Feed */
        .feed-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        
        .feed-header h2 {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 2rem;
        }
        
        .filter-pills {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .filter-pill {
            background: var(--surface);
            border: 1px solid var(--border);
            color: var(--muted);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: all 0.3s ease;
        }
        
        .filter-pill:hover,
        .filter-pill.active {
            border-color: var(--primary);
            background: rgba(108, 99, 255, 0.15);
            color: var(--primary);
        }
        
        .feed {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 4rem;
            grid-auto-rows: 1fr;
            padding-top: 1.5rem;
        }
        
        .secret-card {
            background: var(--surface);
            border: 1.5px solid var(--border);
            border-radius: 20px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
            display: flex;
            flex-direction: column;
        }
        
        .secret-card:hover {
            transform: translateY(-4px);
            border-color: var(--primary);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.2);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        
        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--gradient);
            flex-shrink: 0;
        }
        
        .user-info {
            flex: 1;
        }
        
        .username {
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--text);
        }
        
        .timestamp {
            font-size: 0.8rem;
            color: var(--muted);
        }
        
        .secret-text {
            color: var(--text);
            margin-bottom: 1rem;
            line-height: 1.6;
            flex: 1;
        }
        
        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: auto;
            padding-top: 1rem;
        }
        
        .reactions {
            display: flex;
            gap: 1rem;
        }
        
        .reaction {
            display: flex;
            align-items: center;
            gap: 0.3rem;
            font-size: 0.9rem;
            color: var(--muted);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .reaction:hover {
            color: var(--primary);
            transform: scale(1.1);
        }
        
        .reaction-count {
            transition: all 0.3s ease;
        }
        
        .ad-card {
            background: linear-gradient(135deg, var(--surface) 0%, rgba(108, 99, 255, 0.08) 100%);
            border: 1.5px dashed rgba(108, 99, 255, 0.35);
            border-radius: 20px;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            gap: 1rem;
            opacity: 0;
            animation: fadeInUp 0.6s ease forwards;
        }
        
        .ad-label {
            font-size: 0.75rem;
            color: var(--muted);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .ad-content {
            color: var(--text);
            font-size: 1.1rem;
        }
        
        /* Modal */
        .modal {
            position: fixed;
            inset: 0;
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 1rem;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-backdrop {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .modal-content {
            position: relative;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 20px;
            width: 100%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            animation: slideUp 0.4s ease;
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--muted);
            font-size: 2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.2s ease;
        }
        
        .modal-close:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
        }
        
        .modal-header {
            margin-bottom: 1.5rem;
            padding-right: 2rem;
        }
        
        .modal-title {
            font-family: 'Space Grotesk', sans-serif;
            font-size: 1.75rem;
            margin-bottom: 0.5rem;
        }
        
        .secret-full-text {
            color: var(--text);
            line-height: 1.8;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }
        
        .comments-section {
            margin-top: 2rem;
        }
        
        .comments-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--muted);
        }
        
        .comment {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .comment-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        
        .comment-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--gradient);
        }
        
        .comment-user {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .comment-text {
            color: var(--muted);
            line-height: 1.6;
            padding-left: 2.5rem;
        }
        
        .reply-input-container {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border);
        }
        
        .reply-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 0.95rem;
            resize: vertical;
            min-height: 80px;
        }
        
        .reply-input:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .reply-button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
        }
        
        /* Share modal */
        .share-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-label {
            font-weight: 600;
            color: var(--text);
        }
        
        .secret-textarea {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            color: var(--text);
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            resize: vertical;
            min-height: 150px;
        }
        
        .secret-textarea:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        .topic-pills {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .topic-pill {
            background: var(--surface);
            border: 1px solid var(--border);
            color: var(--muted);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }
        
        .topic-pill:hover,
        .topic-pill.selected {
            border-color: var(--primary);
            background: rgba(108, 99, 255, 0.15);
            color: var(--primary);
        }
        
        .toggle-group {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .toggle {
            position: relative;
            width: 50px;
            height: 26px;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 13px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle.active {
            background: var(--gradient);
            border-color: transparent;
        }
        
        .toggle-slider {
            position: absolute;
            top: 2px;
            left: 2px;
            width: 20px;
            height: 20px;
            background: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .toggle.active .toggle-slider {
            transform: translateX(24px);
        }
        
        .submit-button {
            background: var(--gradient);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 14px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }
        
        .submit-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(108, 99, 255, 0.4);
        }
        
        /* Floating action button */
        .fab {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(108, 99, 255, 0.4);
            transition: all 0.3s ease;
            z-index: 100;
            animation: fabPulse 2s ease-in-out infinite;
        }
        
        .fab:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 30px rgba(108, 99, 255, 0.6);
        }
        
        @keyframes fabPulse {
            0%, 100% { box-shadow: 0 4px 20px rgba(108, 99, 255, 0.4); }
            50% { box-shadow: 0 4px 30px rgba(108, 99, 255, 0.6); }
        }
        
        /* Mobile responsive */
        @media (max-width: 768px) {
            .navbar {
                padding: 1rem 1.5rem;
            }
            
            .logo {
                font-size: 1.25rem;
            }
            
            .signin-btn {
                padding: 0.4rem 1rem;
                font-size: 0.9rem;
            }
            
            .hero {
                margin-top: 70px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .hero p {
                font-size: 1rem;
            }
            
            .stats {
                margin-top: 4.75rem;
                font-size: 0.8rem;
                line-height: 1.8;
            }
            
            .stats br {
                display: block;
                content: "";
                margin-top: 0.5rem;
            }
            
            .scroll-indicator {
                bottom: 1rem;
                font-size: 1.75rem;
            }
            
            .feed {
                grid-template-columns: 1fr;
            }
            
            .top-10-list.minimized {
                grid-template-columns: 1fr;
            }
            
            .filter-pills {
                overflow-x: auto;
                flex-wrap: nowrap;
                padding-bottom: 0.5rem;
            }
            
            .modal-content {
                padding: 1.5rem;
            }
            
            .fab {
                bottom: 1.5rem;
                right: 1.5rem;
                width: 56px;
                height: 56px;
            }
        }
        
        /* Stagger animation for feed cards */
        .secret-card:nth-child(1) { animation-delay: 0.1s; }
        .secret-card:nth-child(2) { animation-delay: 0.2s; }
        .secret-card:nth-child(3) { animation-delay: 0.3s; }
        .secret-card:nth-child(4) { animation-delay: 0.4s; }
        .secret-card:nth-child(5) { animation-delay: 0.5s; }
        .secret-card:nth-child(6) { animation-delay: 0.6s; }
        .secret-card:nth-child(7) { animation-delay: 0.7s; }
        .secret-card:nth-child(8) { animation-delay: 0.8s; }
        
        /* Toast notification */
        .toast {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--surface);
            border: 1px solid var(--primary);
            color: var(--text);
            padding: 1rem 2rem;
            border-radius: 14px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
            z-index: 3000;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* Success animation */
        @keyframes success {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }
        
        .success-icon {
            font-size: 3rem;
            text-align: center;
            margin: 2rem 0;
            animation: success 0.6s ease;
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="logo">Unspoken</div>
        <button class="signin-btn" onclick="showToast('Sign-in coming soon!')">Sign In</button>
    </nav>
    
    <!-- Animated background -->
    <div class="gradient-bg"></div>
    
    <!-- Floating particles -->
    <div class="particles" id="particles"></div>
    
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-fragments" id="heroFragments"></div>
        
        <div class="hero-content">
            <h1>What's the secret you'll take to your grave?</h1>
            <p>No names. No faces. Just the truth you've been holding back.</p>
            <button class="cta-button" onclick="openShareModal()">Confess anonymously</button>
            <div class="cta-microcopy">No account needed</div>
            
            <div class="stats">
                <span class="stats-number">50,247</span> secrets shared<br class="mobile-break"> ¬∑ 
                <span class="stats-number">12,891</span> anonymous conversations<br class="mobile-break"> ¬∑ 
                <span class="stats-number">100%</span> private
            </div>
        </div>
        
        <div class="scroll-indicator">‚Üì</div>
    </section>
    
    <!-- Main Content -->
    <div class="container">
        <!-- Top 10 Section -->
        <section class="top-10-section">
            <div class="top-10-header">
                <h2>üî• Top 10 Most Engaged</h2>
                <button class="top-10-toggle" onclick="toggleTop10()">Show All 10</button>
            </div>
            
            <div class="top-10-list minimized" id="top10List">
                <!-- Top 10 items will be dynamically inserted here -->
            </div>
        </section>
        
        <!-- Feed Section -->
        <section class="feed-section">
            <div class="feed-header">
                <h2>Recent Confessions</h2>
            </div>
            
            <div class="filter-pills">
                <button class="filter-pill active" data-topic="all">All</button>
                <button class="filter-pill" data-topic="relationships">Relationships</button>
                <button class="filter-pill" data-topic="family">Family</button>
                <button class="filter-pill" data-topic="career">Career</button>
                <button class="filter-pill" data-topic="health">Health</button>
                <button class="filter-pill" data-topic="identity">Identity</button>
                <button class="filter-pill" data-topic="regret">Regret</button>
                <button class="filter-pill" data-topic="love">Love</button>
            </div>
            
            <div class="feed" id="feed">
                <!-- Secret cards will be dynamically inserted here -->
            </div>
        </section>
    </div>
    
    <!-- Floating Action Button -->
    <button class="fab" onclick="openShareModal()" title="Share your secret">‚úèÔ∏è</button>
    
    <!-- Secret Detail Modal -->
    <div class="modal" id="detailModal">
        <div class="modal-backdrop" onclick="closeDetailModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeDetailModal()">√ó</button>
            <div class="modal-header">
                <div class="card-header">
                    <div class="avatar" id="modalAvatar"></div>
                    <div class="user-info">
                        <div class="username" id="modalUsername"></div>
                        <div class="timestamp" id="modalTimestamp"></div>
                    </div>
                </div>
            </div>
            
            <div class="secret-full-text" id="modalSecretText"></div>
            
            <div class="card-footer">
                <div class="reactions">
                    <div class="reaction">
                        <span>‚ù§Ô∏è</span>
                        <span class="reaction-count" id="modalHearts"></span>
                    </div>
                    <div class="reaction">
                        <span>üí¨</span>
                        <span class="reaction-count" id="modalCommentCount"></span>
                    </div>
                    <div class="reaction">
                        <span>ü§ù</span>
                        <span class="reaction-count" id="modalMeToo"></span>
                    </div>
                </div>
                <div class="topic-tag" id="modalTopic"></div>
            </div>
            
            <div class="comments-section">
                <h3 class="comments-title">Anonymous Responses</h3>
                <div id="modalComments"></div>
            </div>
            
            <div class="reply-input-container">
                <textarea class="reply-input" placeholder="Reply anonymously..."></textarea>
                <button class="reply-button" onclick="showToast('Reply posted anonymously!')">Post Reply</button>
            </div>
        </div>
    </div>
    
    <!-- Share Secret Modal -->
    <div class="modal" id="shareModal">
        <div class="modal-backdrop" onclick="closeShareModal()"></div>
        <div class="modal-content">
            <button class="modal-close" onclick="closeShareModal()">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title">Share Your Secret</h2>
                <p style="color: var(--muted);">What's on your mind? No one will know it's you.</p>
            </div>
            
            <form class="share-form" onsubmit="submitSecret(event)">
                <div class="form-group">
                    <label class="form-label">Your secret</label>
                    <textarea class="secret-textarea" placeholder="Type your secret here..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Topic</label>
                    <div class="topic-pills">
                        <button type="button" class="topic-pill" data-topic="relationships">Relationships</button>
                        <button type="button" class="topic-pill" data-topic="family">Family</button>
                        <button type="button" class="topic-pill" data-topic="career">Career</button>
                        <button type="button" class="topic-pill" data-topic="health">Health</button>
                        <button type="button" class="topic-pill" data-topic="identity">Identity</button>
                        <button type="button" class="topic-pill" data-topic="regret">Regret</button>
                        <button type="button" class="topic-pill" data-topic="love">Love</button>
                        <button type="button" class="topic-pill" data-topic="other">Other</button>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="toggle-group">
                        <div class="toggle active" onclick="this.classList.toggle('active')">
                            <div class="toggle-slider"></div>
                        </div>
                        <label>Allow anonymous chat requests</label>
                    </div>
                </div>
                
                <div class="form-group">
                    <div class="toggle-group">
                        <div class="toggle active" onclick="this.classList.toggle('active')">
                            <div class="toggle-slider"></div>
                        </div>
                        <label>Allow comments</label>
                    </div>
                </div>
                
                <button type="submit" class="submit-button">Share Anonymously</button>
            </form>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div class="toast" id="toast"></div>
    
    <script>
        // Data: 25 secrets with realistic engagement
        const secrets = [
            {
                id: 1,
                text: "I'm still in love with my best friend's partner. I've been carrying this for 3 years and it's eating me alive.",
                topic: "relationships",
                username: "silent_echo_4281",
                timestamp: "3 hours ago",
                hearts: 847,
                comments: 234,
                metoo: 1200,
                commentsList: [
                    { user: "void_walker_892", text: "this one hit different fr" },
                    { user: "anon_7234", text: "You gotta tell someone. Not them obviously but like... a therapist? This will destroy you if you don't." }
                ]
            },
            {
                id: 2,
                text: "I pretend to be happy in my marriage but I haven't felt anything for my spouse in over a year. We have kids. I can't leave.",
                topic: "relationships",
                username: "hidden_truth_7739",
                timestamp: "4 hours ago",
                hearts: 2100,
                comments: 567,
                metoo: 3400,
                commentsList: [
                    { user: "lost_soul_4422", text: "same. been 3 years for me. the kids keep me there but i'm dying inside" },
                    { user: "midnight_4891", text: "have you tried couples therapy? or is it past that point" },
                    { user: "wanderer_1203", text: "üíî" }
                ]
            },
            {
                id: 3,
                text: "I catfished someone for 6 months because I was too afraid they wouldn't like the real me. They fell in love with someone who doesn't exist.",
                topic: "relationships",
                username: "shadow_user_9102",
                timestamp: "5 hours ago",
                hearts: 432,
                comments: 189,
                metoo: 678,
                commentsList: [
                    { user: "digital_ghost_5512", text: "bruh this is heavy" },
                    { user: "anon_8834", text: "did you ever come clean?" }
                ]
            },
            {
                id: 4,
                text: "My partner doesn't know I read their journal. What I found changed everything, but I can't tell them how I know.",
                topic: "relationships",
                username: "quiet_storm_3348",
                timestamp: "6 hours ago",
                hearts: 654,
                comments: 201,
                metoo: 891,
                commentsList: [
                    { user: "truth_seeker_7721", text: "what did you find? (you don't have to say)" },
                    { user: "broken_trust_4490", text: "ngl I've done this too and I regret it every day. can't unsee what I saw" }
                ]
            },
            {
                id: 5,
                text: "I said 'I love you' first and they said it back but I could see in their eyes they didn't mean it. That was 4 months ago. We're still together.",
                topic: "relationships",
                username: "empty_words_6677",
                timestamp: "7 hours ago",
                hearts: 1300,
                comments: 312,
                metoo: 2100,
                commentsList: [
                    { user: "silent_pain_9923", text: "damn." },
                    { user: "honest_anon_4455", text: "you deserve someone who means it when they say it" }
                ]
            },
            {
                id: 6,
                text: "My parents think I'm successful. I lost my job 8 months ago and I've been pretending to go to work every day.",
                topic: "family",
                username: "facade_master_1129",
                timestamp: "8 hours ago",
                hearts: 3200,
                comments: 891,
                metoo: 5600,
                commentsList: [
                    { user: "same_boat_7788", text: "where do you go during the day?" },
                    { user: "proud_liar_3304", text: "I did this for 4 months. Eventually told them. It was hard but the relief was worth it." },
                    { user: "anon_9021", text: "you're not alone in this fr" }
                ]
            },
            {
                id: 7,
                text: "I found out I was adopted when I was 30. My whole family knew. Nobody told me.",
                topic: "family",
                username: "truth_bomb_5543",
                timestamp: "9 hours ago",
                hearts: 1800,
                comments: 423,
                metoo: 2900,
                commentsList: [
                    { user: "orphan_soul_6634", text: "how did you find out?" },
                    { user: "family_secrets_8812", text: "this is fucked up. I'm so sorry" }
                ]
            },
            {
                id: 8,
                text: "I love my kids more than anything but sometimes I fantasize about what my life would be like if I never had them.",
                topic: "family",
                username: "parent_confessions_4409",
                timestamp: "10 hours ago",
                hearts: 4100,
                comments: 1200,
                metoo: 7800,
                commentsList: [
                    { user: "tired_mom_9981", text: "SAME. everyone acts like you're a monster if you say this but it's so normal" },
                    { user: "dad_thoughts_3392", text: "thank you for saying this. thought I was broken" },
                    { user: "honest_parent_7744", text: "literally every parent has this thought. society just won't let us say it" }
                ]
            },
            {
                id: 9,
                text: "I cut off my entire family last year. Everyone thinks I'm cruel. Nobody knows what happened behind closed doors.",
                topic: "family",
                username: "no_contact_8822",
                timestamp: "12 hours ago",
                hearts: 2400,
                comments: 678,
                metoo: 4200,
                commentsList: [
                    { user: "survivor_mode_5511", text: "you don't owe anyone an explanation. protect your peace" },
                    { user: "estranged_4490", text: "same here. 2 years no contact. best decision I ever made" }
                ]
            },
            {
                id: 10,
                text: "I make $200k and I have no idea what I'm doing. Imposter syndrome is real and it gets worse every promotion.",
                topic: "career",
                username: "fake_it_master_7701",
                timestamp: "14 hours ago",
                hearts: 5100,
                comments: 1400,
                metoo: 8900,
                commentsList: [
                    { user: "corporate_fraud_3399", text: "welcome to corporate america. nobody knows what they're doing" },
                    { user: "promoted_idiot_8827", text: "I'm a director and I google basic shit every day lmao" },
                    { user: "salary_envy_4472", text: "tbh this made me feel better about my $60k job where I also have no clue" }
                ]
            },
            {
                id: 11,
                text: "I reported my boss for harassment. HR sided with him. I quit. He's still there.",
                topic: "career",
                username: "justice_denied_9934",
                timestamp: "16 hours ago",
                hearts: 3800,
                comments: 934,
                metoo: 6100,
                commentsList: [
                    { user: "hr_is_broken_7755", text: "HR protects the company, not you. learned that the hard way" },
                    { user: "metoo_survivor_5503", text: "this is why people don't report. I'm sorry this happened to you" }
                ]
            },
            {
                id: 12,
                text: "I've been working remotely for a company that thinks I'm in New York. I'm actually living in Thailand spending a fraction of my salary.",
                topic: "career",
                username: "digital_nomad_secret_4483",
                timestamp: "18 hours ago",
                hearts: 1200,
                comments: 456,
                metoo: 2300,
                commentsList: [
                    { user: "vpn_life_8821", text: "how do you handle the timezone difference?" },
                    { user: "jealous_anon_3344", text: "living the dream ngl" }
                ]
            },
            {
                id: 13,
                text: "I turned down my dream job because it would have meant moving away from my aging mother. She doesn't know.",
                topic: "career",
                username: "sacrifice_silent_6628",
                timestamp: "20 hours ago",
                hearts: 987,
                comments: 234,
                metoo: 1500,
                commentsList: [
                    { user: "good_child_9912", text: "you're a good person. that's a hard choice" },
                    { user: "regret_watcher_4471", text: "do you regret it?" }
                ]
            },
            {
                id: 14,
                text: "I was diagnosed with something serious 6 months ago. I haven't told anyone. I don't want to be treated differently.",
                topic: "health",
                username: "invisible_patient_5539",
                timestamp: "1 day ago",
                hearts: 2700,
                comments: 789,
                metoo: 4500,
                commentsList: [
                    { user: "also_sick_7766", text: "I get it. the pity looks are exhausting" },
                    { user: "care_giver_3355", text: "please tell someone. you don't have to do this alone" }
                ]
            },
            {
                id: 15,
                text: "I've been sober for 2 years but nobody knows I was ever an addict. I go to meetings in a different city so no one recognizes me.",
                topic: "health",
                username: "secret_recovery_8844",
                timestamp: "1 day ago",
                hearts: 3400,
                comments: 867,
                metoo: 5800,
                commentsList: [
                    { user: "clean_anon_4492", text: "congrats on 2 years. that's huge" },
                    { user: "hiding_too_7733", text: "same. 5 years clean and my coworkers have no idea" }
                ]
            },
            {
                id: 16,
                text: "I smile every day at work but I've been struggling with depression for years. The mask is getting heavier.",
                topic: "health",
                username: "masked_depression_9921",
                timestamp: "2 days ago",
                hearts: 6200,
                comments: 1800,
                metoo: 11000,
                commentsList: [
                    { user: "also_drowning_5544", text: "this one got me" },
                    { user: "therapy_helper_8899", text: "have you talked to anyone? therapy changed my life" },
                    { user: "same_struggle_3366", text: "ngl I could have written this word for word" }
                ]
            },
            {
                id: 17,
                text: "I'm 45 and I just realized I'm gay. I have a wife and three kids. I don't know what to do.",
                topic: "identity",
                username: "late_bloomer_crisis_7722",
                timestamp: "2 days ago",
                hearts: 4800,
                comments: 1300,
                metoo: 7200,
                commentsList: [
                    { user: "been_there_4483", text: "came out at 52. it's never too late but god it's hard" },
                    { user: "support_anon_9904", text: "there's no easy answer here. sending strength" },
                    { user: "lgbt_support_5567", text: "r/latebloomerlesbians and r/marriedandbi have people going through this. you're not alone" }
                ]
            },
            {
                id: 18,
                text: "Nobody in my life knows the real me. I perform a version of myself for every person I interact with. I don't even know who I actually am anymore.",
                topic: "identity",
                username: "chameleon_soul_4405",
                timestamp: "2 days ago",
                hearts: 3600,
                comments: 945,
                metoo: 6400,
                commentsList: [
                    { user: "also_performing_8833", text: "damn." },
                    { user: "identity_crisis_7712", text: "I feel this in my bones" }
                ]
            },
            {
                id: 19,
                text: "I changed my name and moved across the country to escape my past. My new friends think I grew up normal. I didn't.",
                topic: "identity",
                username: "fresh_start_9988",
                timestamp: "3 days ago",
                hearts: 2100,
                comments: 534,
                metoo: 3700,
                commentsList: [
                    { user: "also_ran_4456", text: "did the same thing 10 years ago. sometimes reinvention is survival" },
                    { user: "curious_anon_7799", text: "do you ever worry they'll find out?" }
                ]
            },
            {
                id: 20,
                text: "I didn't visit my grandmother before she died because I was 'too busy.' She asked for me. I'll never forgive myself.",
                topic: "regret",
                username: "eternal_guilt_5521",
                timestamp: "3 days ago",
                hearts: 5400,
                comments: 1500,
                metoo: 9100,
                commentsList: [
                    { user: "same_regret_8822", text: "üíî" },
                    { user: "late_goodbyes_3387", text: "I did this with my dad. it's been 8 years and I still can't forgive myself" },
                    { user: "grief_anon_9945", text: "she knew you loved her. I promise she knew" }
                ]
            },
            {
                id: 21,
                text: "I had the chance to save someone's life and I froze. I think about it every single day.",
                topic: "regret",
                username: "frozen_moment_4466",
                timestamp: "4 days ago",
                hearts: 2900,
                comments: 812,
                metoo: 4800,
                commentsList: [
                    { user: "trauma_response_7744", text: "freezing is a trauma response. it's not your fault" },
                    { user: "heavy_burden_5532", text: "bruh this is heavy" }
                ]
            },
            {
                id: 22,
                text: "I chose money over passion when I was 22. I'm 40 now and I was wrong.",
                topic: "regret",
                username: "wrong_path_8877",
                timestamp: "4 days ago",
                hearts: 1700,
                comments: 423,
                metoo: 2800,
                commentsList: [
                    { user: "also_40_8834", text: "it's not too late to change" },
                    { user: "golden_cage_4429", text: "same. making 6 figures and miserable" }
                ]
            },
            {
                id: 23,
                text: "I write letters to someone who will never read them. I've filled three notebooks. It's the only way I can let go.",
                topic: "love",
                username: "unread_letters_6633",
                timestamp: "5 days ago",
                hearts: 3100,
                comments: 876,
                metoo: 5200,
                commentsList: [
                    { user: "also_writing_9921", text: "I do this too. on letter #47" },
                    { user: "healing_slowly_5547", text: "this is beautiful and sad" }
                ]
            },
            {
                id: 24,
                text: "The person I loved most in this world doesn't know they saved my life just by existing. I never told them.",
                topic: "love",
                username: "silent_gratitude_7788",
                timestamp: "5 days ago",
                hearts: 4500,
                comments: 1100,
                metoo: 7600,
                commentsList: [
                    { user: "tell_them_4483", text: "you should tell them" },
                    { user: "sweet_pain_8866", text: "this one got me" },
                    { user: "unspoken_love_3322", text: "I felt this" }
                ]
            },
            {
                id: 25,
                text: "I met the love of my life at the wrong time. We both know it. We never talk about it.",
                topic: "love",
                username: "wrong_time_right_person_9944",
                timestamp: "6 days ago",
                hearts: 6800,
                comments: 2100,
                metoo: 12000,
                commentsList: [
                    { user: "timing_is_everything_5566", text: "ngl this hit different" },
                    { user: "star_crossed_7722", text: "are you still in touch?" },
                    { user: "crying_anon_4488", text: "this is the saddest one on here" }
                ]
            }
        ];
        
        // Calculate top 10 by weighted engagement
        function calculateEngagementScore(secret) {
            return secret.hearts * 1 + secret.metoo * 1.5 + secret.comments * 2;
        }
        
        const top10 = [...secrets]
            .map(s => ({ ...s, score: calculateEngagementScore(s) }))
            .sort((a, b) => b.score - a.score)
            .slice(0, 10);
        
        // Confession fragments for hero background
        const fragments = [
            "I was relieved when they died",
            "I've never actually loved them",
            "Sometimes I imagine disappearing",
            "I'm not who anyone thinks I am",
            "Nobody knows this about me",
            "I've been lying for years",
            "The truth would ruin everything",
            "I think about it every day",
            "This secret is eating me alive",
            "I'm not sorry"
        ];
        
        // Initialize particles
        function createParticles() {
            const particlesContainer = document.getElementById('particles');
            for (let i = 0; i < 20; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 10 + 's';
                particle.style.animationDuration = (15 + Math.random() * 10) + 's';
                particlesContainer.appendChild(particle);
            }
        }
        
        // Initialize hero fragments - positioned more deliberately
        function createHeroFragments() {
            const container = document.getElementById('heroFragments');
            const positions = [
                { left: 15, top: 20 },
                { left: 75, top: 15 },
                { left: 25, top: 65 },
                { left: 70, top: 70 },
                { left: 10, top: 45 },
                { left: 85, top: 40 },
                { left: 40, top: 25 },
                { left: 55, top: 80 },
                { left: 30, top: 85 },
                { left: 60, top: 30 }
            ];
            
            fragments.forEach((text, i) => {
                const fragment = document.createElement('div');
                fragment.className = 'fragment';
                fragment.textContent = text;
                fragment.style.left = positions[i].left + '%';
                fragment.style.top = positions[i].top + '%';
                fragment.style.animationDelay = i * 2 + 's';
                container.appendChild(fragment);
            });
        }
        
        // Render top 10
        function renderTop10() {
            const container = document.getElementById('top10List');
            container.innerHTML = top10.map((secret, index) => {
                const rank = index + 1;
                const rankClass = `rank-${rank <= 3 ? rank : 'other'}`;
                const rankDisplay = rank <= 3 ? 
                    (rank === 1 ? 'ü•á #1' : rank === 2 ? 'ü•à #2' : 'ü•â #3') : 
                    `#${rank}`;
                
                return `
                    <div class="top-item" onclick="openDetail(${secret.id})">
                        <div class="top-item-header">
                            <span class="rank-badge ${rankClass}">${rankDisplay}</span>
                        </div>
                        <div class="username">${secret.username}</div>
                        <div class="secret-preview">${secret.text}</div>
                        <div class="topic-tag">#${secret.topic}</div>
                        <div class="top-item-stats">
                            <span class="stat">‚ù§Ô∏è ${formatNumber(secret.hearts)}<span class="stat-label">Hearts</span></span>
                            <span class="stat">üí¨ ${formatNumber(secret.comments)}<span class="stat-label">Comments</span></span>
                            <span class="stat">ü§ù ${formatNumber(secret.metoo)}<span class="stat-label">Me Too</span></span>
                        </div>
                        <div class="expand-btn">Click to read full secret & comments ‚Üí</div>
                    </div>
                `;
            }).join('');
        }
        
        // Render feed
        function interleaveByTopic(arr) {
            const buckets = {};
            arr.forEach(s => { (buckets[s.topic] = buckets[s.topic] || []).push(s); });
            const topics = Object.keys(buckets);
            const result = [];
            let i = 0;
            while (result.length < arr.length) {
                const t = topics[i % topics.length];
                if (buckets[t].length) result.push(buckets[t].shift());
                i++;
                if (topics.every(t => !buckets[t].length)) break;
            }
            return result;
        }
        
        function renderFeed(filter = 'all') {
            const container = document.getElementById('feed');
            const filtered = filter === 'all' ? interleaveByTopic(secrets) : secrets.filter(s => s.topic === filter);
            
            container.innerHTML = filtered.map((secret, index) => {
                // Add ad every 8th card
                const adSlot = (index + 1) % 8 === 0 ? `
                    <div class="ad-card">
                        <div class="ad-label">Sponsored</div>
                        <div class="ad-content">Your ad could be here. Contextual, not creepy.</div>
                    </div>
                ` : '';
                
                return `
                    <div class="secret-card" onclick="openDetail(${secret.id})">
                        <div class="card-header">
                            <div class="avatar" style="background: ${generateGradient()}"></div>
                            <div class="user-info">
                                <div class="username">${secret.username}</div>
                                <div class="timestamp">${secret.timestamp}</div>
                            </div>
                        </div>
                        <div class="secret-text">${secret.text}</div>
                        <div class="card-footer">
                            <div class="reactions">
                                <div class="reaction" onclick="event.stopPropagation(); reactToSecret(${secret.id}, 'hearts')">
                                    <span>‚ù§Ô∏è</span>
                                    <span class="reaction-count">${formatNumber(secret.hearts)}</span>
                                </div>
                                <div class="reaction" onclick="event.stopPropagation(); reactToSecret(${secret.id}, 'comments')">
                                    <span>üí¨</span>
                                    <span class="reaction-count">${formatNumber(secret.comments)}</span>
                                </div>
                                <div class="reaction" onclick="event.stopPropagation(); reactToSecret(${secret.id}, 'metoo')">
                                    <span>ü§ù</span>
                                    <span class="reaction-count">${formatNumber(secret.metoo)}</span>
                                </div>
                            </div>
                            <div class="topic-tag">#${secret.topic}</div>
                        </div>
                    </div>
                    ${adSlot}
                `;
            }).join('');
        }
        
        // Toggle top 10 state
        let top10State = 'minimized'; // minimized, normal, expanded
        function toggleTop10() {
            const container = document.getElementById('top10List');
            const button = document.querySelector('.top-10-toggle');
            
            if (top10State === 'minimized') {
                top10State = 'normal';
                container.className = 'top-10-list normal';
                button.textContent = 'Expand Full View';
            } else if (top10State === 'normal') {
                top10State = 'expanded';
                container.className = 'top-10-list expanded';
                button.style.display = 'none';
                
                // Add back button
                const backBtn = document.createElement('button');
                backBtn.className = 'back-to-feed';
                backBtn.textContent = 'Collapse';
                backBtn.onclick = () => {
                    top10State = 'minimized';
                    container.className = 'top-10-list minimized';
                    button.textContent = 'Show All 10';
                    button.style.display = 'block';
                    backBtn.remove();
                };
                container.insertBefore(backBtn, container.firstChild);
            } else {
                top10State = 'minimized';
                container.className = 'top-10-list minimized';
                button.textContent = 'Show All 10';
            }
        }
        
        // Open detail modal
        function openDetail(id) {
            const secret = secrets.find(s => s.id === id);
            if (!secret) return;
            
            document.getElementById('modalAvatar').style.background = generateGradient();
            document.getElementById('modalUsername').textContent = secret.username;
            document.getElementById('modalTimestamp').textContent = secret.timestamp;
            document.getElementById('modalSecretText').textContent = secret.text;
            document.getElementById('modalHearts').textContent = formatNumber(secret.hearts);
            document.getElementById('modalCommentCount').textContent = formatNumber(secret.comments);
            document.getElementById('modalMeToo').textContent = formatNumber(secret.metoo);
            document.getElementById('modalTopic').textContent = '#' + secret.topic;
            
            const commentsHtml = secret.commentsList.map(c => `
                <div class="comment">
                    <div class="comment-header">
                        <div class="comment-avatar" style="background: ${generateGradient()}"></div>
                        <div class="comment-user">${c.user}</div>
                    </div>
                    <div class="comment-text">${c.text}</div>
                </div>
            `).join('');
            
            document.getElementById('modalComments').innerHTML = commentsHtml;
            document.getElementById('detailModal').classList.add('active');
            document.body.style.overflow = 'hidden';
            
            // Update URL hash
            window.location.hash = `#/s/${id}`;
        }
        
        function closeDetailModal() {
            document.getElementById('detailModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            window.location.hash = '';
        }
        
        // Share modal
        function openShareModal() {
            document.getElementById('shareModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        
        function closeShareModal() {
            document.getElementById('shareModal').classList.remove('active');
            document.body.style.overflow = 'auto';
        }
        
        function submitSecret(e) {
            e.preventDefault();
            
            // Show success
            const modal = document.getElementById('shareModal');
            const originalForm = modal.querySelector('.share-form').innerHTML;
            modal.querySelector('.share-form').innerHTML = `
                <div class="success-icon">‚úì</div>
                <h3 style="text-align: center;">Your secret is now live</h3>
                <p style="text-align: center; color: var(--muted);">
                    You are anonymous_user_${Math.floor(Math.random() * 10000)}
                </p>
            `;
            
            setTimeout(() => {
                closeShareModal();
                showToast('Secret shared anonymously!');
                setTimeout(() => {
                    modal.querySelector('.share-form').innerHTML = originalForm;
                    // Re-attach event listeners to topic pills
                    modal.querySelectorAll('.topic-pill').forEach(pill => {
                        pill.addEventListener('click', () => {
                            modal.querySelectorAll('.topic-pill').forEach(p => p.classList.remove('selected'));
                            pill.classList.add('selected');
                        });
                    });
                }, 1000);
            }, 2000);
        }
        
        // Toast notification
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
        
        // React to secret
        function reactToSecret(id, type) {
            const secret = secrets.find(s => s.id === id);
            if (!secret) return;
            
            secret[type]++;
            renderFeed();
            showToast('Reaction added!');
        }
        
        // Topic filter
        document.querySelectorAll('.filter-pill').forEach(pill => {
            pill.addEventListener('click', () => {
                document.querySelectorAll('.filter-pill').forEach(p => p.classList.remove('active'));
                pill.classList.add('active');
                renderFeed(pill.dataset.topic);
            });
        });
        
        // Topic pill selection in share modal
        document.querySelectorAll('.topic-pill').forEach(pill => {
            pill.addEventListener('click', () => {
                document.querySelectorAll('.topic-pill').forEach(p => p.classList.remove('selected'));
                pill.classList.add('selected');
            });
        });
        
        // Utility functions
        function formatNumber(num) {
            if (num >= 1000) {
                return (num / 1000).toFixed(1) + 'k';
            }
            return num.toString();
        }
        
        function generateGradient() {
            const colors = [
                'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
                'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
                'linear-gradient(135deg, #30cfd0 0%, #330867 100%)',
                'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
                'linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%)',
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // Handle hash routing
        function handleHashChange() {
            const hash = window.location.hash;
            if (hash.startsWith('#/s/')) {
                const id = parseInt(hash.replace('#/s/', ''));
                openDetail(id);
            } else if (hash.startsWith('#/topic/')) {
                const topic = hash.replace('#/topic/', '');
                const pill = document.querySelector(`[data-topic="${topic}"]`);
                if (pill) pill.click();
            }
        }
        
        window.addEventListener('hashchange', handleHashChange);
        
        // Initialize
        createParticles();
        createHeroFragments();
        renderTop10();
        renderFeed();
        handleHashChange();
        
        // Animate stats counter on load
        function animateCounter(element, target) {
            let current = 0;
            const increment = target / 50;
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    element.textContent = target.toLocaleString();
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(current).toLocaleString();
                }
            }, 30);
        }
        
        window.addEventListener('load', () => {
            const statsNumbers = document.querySelectorAll('.stats-number');
            animateCounter(statsNumbers[0], 50247);
            animateCounter(statsNumbers[1], 12891);
        });
    </script>
</body>
</html>
